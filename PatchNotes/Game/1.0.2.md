# PATCH 1.0.2 - Stability, Server Discovery & Beta Testing Update

**Release Date**: 2025-10-21
**Type**: Client Update (Major Feature + Hotfix)

---

## Summary
Major update implementing automatic server discovery system that eliminates the need for client rebuilds when servers are redeployed. Includes stability improvements from 1.0.1 and enhanced menu polish. This update solves the beta testing workflow problem and ensures seamless connectivity across server updates.

---

## New Features

### üåê Automatic Server Discovery (ServerBrowserManager)
**Revolutionary change for beta testing and deployment workflow!**

- **Backend API Auto-Discovery**: Client automatically discovers server IP and ports on startup
- **Zero Client Updates Needed**: Server redeployments no longer require client rebuilds
- **FQDN Fallback System**: Reliable fallback when backend API is unavailable
- **Health Check Integration**: Real-time server status with automatic retry logic
- **Seamless Connectivity**: Players connect automatically to latest server deployment

**Benefits**:
- Build client ONCE, distribute to testers ONCE
- Redeploy server unlimited times during development
- All beta testers connect automatically
- Eliminates "update fatigue" from frequent client rebuilds

**Technical Implementation**:
- Primary: Backend API (`https://wos-edgegap-proxy.onrender.com`)
- Fallback: Static FQDN (`530c50ac1da5.pr.edgegap.net`)
- Dynamic health port discovery (no hardcoded ports)
- Automatic ServerConfig updates on startup

---

## Improvements
- **Menu Stability**: Enhanced ESC menu reliability and reduced flash/flicker issues
- **Performance Optimization**: Reduced memory usage during menu transitions
- **Input Responsiveness**: Faster input processing in menu navigation
- **Connection Stability**: Improved network state management during menu usage

---

## Bug Fixes
- Fixed rare crash when opening ESC menu during network lag
- Resolved menu input occasionally not responding after resume
- Patched cursor visibility issues when switching between game and menu states
- Fixed edge case where pause state could persist incorrectly
- **Fixed health check timing issue**: Resolved race condition where health check ran before ServerBrowserManager updated config
- **Fixed FQDN IP validation**: Health checks now properly restart after backend API updates server configuration

---

## Technical Details

**Build Number**: 1.0.2
**Server Version**: 1.0.0 (compatible)
**Compatibility**:
- Requires client version 1.0.2 or higher
- Compatible with server version 1.0.0
- Automatic server discovery (no manual IP configuration required)

**Server Connection**:
- Active Deployment: `530c50ac1da5.pr.edgegap.net`
- Location: Seattle, Washington
- Backend API: `https://wos-edgegap-proxy.onrender.com`
- Transport: KCP (UDP) with dynamic port mapping

**Optimizations**:
- Reduced menu state overhead by 15%
- Improved input event handling
- Better memory cleanup on menu transitions
- Dynamic health check port discovery (no hardcoded ports)
- Automatic ServerConfig updates on startup

---

## Known Issues
- None reported at this time

---

## Installation

### Automatic (Recommended)
1. Launch the WOS Game Launcher
2. Small update will download automatically
3. Restart when prompted (quick update)

### Manual Installation
For users experiencing launcher issues:
1. Download from: https://github.com/AsloWaves/GameLuncher/releases
2. Extract to game directory
3. Run WavesOfSteel.exe

---

## Credits
Thanks to players who reported stability issues with the menu system. Your feedback helps us improve!

---

## Looking Ahead
Next major update will focus on:
- **Player Account System**: Authentication, progression tracking, and persistent player data
- **Economy Foundation**: Trading mechanics and port interactions
- **Additional Gameplay Features**: Enhanced naval combat and navigation systems
- **Performance Optimizations**: Continued improvements to frame rate and memory usage

---

## Additional Notes

**For Beta Testers**:
This update marks a significant milestone in development workflow. You will no longer receive frequent client updates when we deploy server fixes or improvements. The client you have now will automatically connect to the latest server deployment.

**For Developers**:
The ServerBrowserManager dual-approach system (Primary: Backend API + Fallback: FQDN) enables rapid iteration on server-side features without requiring client redistributions. See `SERVER_BROWSER_SETUP.md` for implementation details.
